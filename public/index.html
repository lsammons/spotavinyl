<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>SpotAVinyl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <link href="http://fonts.googleapis.com/css?family=Didact+Gothic" rel="stylesheet" />
    <script type="text/javascript" src="http://cdn.jsdelivr.net/jquery.slick/1.5.9/slick.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript" src="http://cdn.jsdelivr.net/jquery.slick/1.5.9/slick.min.js"></script>
    <link rel="stylesheet" href="/vendor/styles/normalize.css">
    <link rel="stylesheet" href="/styles/base.css">
    <link rel="stylesheet" href="/styles/layout.css">
    <link rel="stylesheet" href="/styles/modules.css">
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/jquery.slick/1.5.9/slick.css"/>
    <script src="/scripts/auctionView.js"></script>
  </head>
  <body>
    <div id="header-wrapper">
      <header>
      	<img src="/images/spotavinylW.png" />
        <nav>
    			<ul>
    				<li id="homepage" class=""><a href="/index.html">Homepage</a></li>
    				<!-- <li id="results" class=""><a href="/results">Results</a></li> -->
    				<li id="about" class=""><a href="/index.html">About Us</a></li>
    			</ul>
    		</nav>
      </header>
    </div>
    <main>
        <div id="banner">
          <section id="homepage" class="title">
          <h1>Check out our cool thing.</h1>
  			     <p class="byline">You'll be able to buy records based on your Spotify tastes.</p>
        		<ul class="actions">
        			<li><a href="/login" class="btn btn-primary button">Spotify Button to login into your account</a></li>
        		</ul>
        </div>
        </section>
      </div>
      <div id="results">
<div id="three-column" class="container">

      <div id="banner">
        <section class="title">
        <h1>Here are you top Artists &amp; Albums</h1>



			     <p class="byline">Select your top artist or track below to find available records.</p>
           <h2>Your Top Artists</h2>
<div class="center">

            <div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/technics/100/100/"></br>More Info</a>
            </div>
    				<div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/animals/100/100/"></br>More Info</a>
    				</div>
    				<div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/cats/100/100/"></br><button type="button" id="theClick">CLICK ME! Info</button></a>
    				</div>
    				<div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/food/100/100/"></br>More Info</a>
    				</div>
    				<div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/city/100/100/"></br>More Info</a>
    				</div>
    				<div>
    					<a href="#" class="button button-alt"><img src="http://lorempixel.com/fashion/100/100/"></br>More Info</a>
    				</div>
    			</div>
        </div>
</div>


		</div>
	</div>
</div>
        <section id="buy">
          <h1>Buy the record here.</h1>
             <p class="byline">You can select the best deals below and buy your vinyl.</p>
        </section>
      </section>
    </div>

    <!-- <button type="button" id="theClick">CLICK TO TEST EBAY!</button> -->
    <div id="ebayResults" style="background-color: #fff;"></div>

    <footer>
    	<p>&copy; Spotavinyl | By LauMadJoe</p>
    </footer>
    </main>
    <script src="/vendor/scripts/handlebars.js"></script>
    <script src="/vendor/scripts/html5sql.js"></script>
    <script src="/vendor/scripts/page.js"></script>
    <script>



      $.backstretch("/images/header-bg.jpg");

      $('#homepage').click(function(e) {
        e.preventDefault();
        $(this).addClass('active');
        $('#about').removeClass('active');
    });

          $('#about').click(function(e) {
            e.preventDefault();
            $(this).addClass('active');
            $('#homepage').removeClass('active');
        });
    </script>
<script>

$('.center').slick({
  centerMode: true,
  centerPadding: '60px',
  slidesToShow: 3,
  responsive: [
    {
      breakpoint: 768,
      settings: {
        arrows: false,
        centerMode: true,
        centerPadding: '40px',
        slidesToShow: 3
      }
    },
    {
      breakpoint: 480,
      settings: {
        arrows: false,
        centerMode: true,
        centerPadding: '40px',
        slidesToShow: 1
      }
    }
  ]
});

</script>

<script>
// findItemsByCategory

// Parse the response and build an HTML table to display search results
// function _cb_findItemsByKeywords(root) {
//   var items = root.findItemsByKeywordsResponse[0].searchResult[0].item || [];
function _cb_findItemsAdvanced(root) {
  var items = root.findItemsAdvancedResponse[0].searchResult[0].item || [];
  var html = [];
  html.push('<table width="100%" border="0" cellspacing="0" cellpadding="3"><tbody>');
  for (var i = 0; i < items.length; ++i) {
    var item     = items[i];
    var title    = item.title;
    var pic      = item.galleryURL;
    var viewitem = item.viewItemURL;
    if (null != title && null != viewitem) {
      html.push('<tr><td>' + '<img src="' + pic + '" border="0">' + '</td>' +
      '<td><a href="' + viewitem + '" target="_blank">' + title + '</a></td></tr>');
    }
  }
  html.push('</tbody></table>');
  document.getElementById("ebayResults").innerHTML = html.join("");
}  // End _cb_findItemsByKeywords() function

// Create a JavaScript array of the item filters you want to use in your request
var filterarray = [
  {"name":"MaxPrice",
   "value":"225",
   "paramName":"Currency",
   "paramValue":"USD"},
  {"name":"FreeShippingOnly",
   "value":"true",
   "paramName":"",
   "paramValue":""},
  {"name":"ListingType",
   "value":["AuctionWithBIN", "FixedPrice", "StoreInventory"],
   "paramName":"",
   "paramValue":""},
  ];


// Define global variable for the URL filter
var urlfilter = "";

// Generates an indexed URL snippet from the array of item filters
function  buildURLArray() {
  // Iterate through each filter in the array
  for(var i=0; i<filterarray.length; i++) {
    //Index each item filter in filterarray
    var itemfilter = filterarray[i];
    // Iterate through each parameter in each item filter
    for(var index in itemfilter) {
      // Check to see if the paramter has a value (some don't)
      if (itemfilter[index] !== "") {
        if (itemfilter[index] instanceof Array) {
          for(var r=0; r<itemfilter[index].length; r++) {
          var value = itemfilter[index][r];
          urlfilter += "&itemFilter\(" + i + "\)." + index + "\(" + r + "\)=" + value ;
          }
        }
        else {
          urlfilter += "&itemFilter\(" + i + "\)." + index + "=" + itemfilter[index];
        }
      }
    }
  }
}  // End buildURLArray() function

// Execute the function to build the URL filter
buildURLArray(filterarray);

// Construct the request
// Replace MyAppID with your Production AppID
// var url = "http://svcs.ebay.com/services/search/FindingService/v1";
//     url += "?OPERATION-NAME=findItemsByKeywords";
//     url += "&SERVICE-VERSION=1.0.0";
//     url += "&SECURITY-APPNAME=LauraSam-Code301-PRD-1e805b329-262cd85d";
//     url += "&GLOBAL-ID=EBAY-US";
//     url += "&RESPONSE-DATA-FORMAT=JSON";
//     url += "&callback=_cb_findItemsByKeywords";
//     url += "&REST-PAYLOAD";
//     url += "&keywords=justin%20timberlake";
//     url += "&paginationInput.entriesPerPage=10";
//     url += urlfilter;

// var url = "http://svcs.ebay.com/services/search/FindingService/v1";
//     url += "?OPERATION-NAME=findItemsByCategory";
//     url += "&SERVICE-VERSION=1.0.0";
//     url += "&SECURITY-APPNAME=LauraSam-Code301-PRD-1e805b329-262cd85d";
//     url += "&GLOBAL-ID=EBAY-US";
//     url += "&RESPONSE-DATA-FORMAT=JSON";
//     url += "&callback=_cb_findItemsByCategory";
//     url += "&REST-PAYLOAD";
//     url += "&categoryId=176985";
//     url += "&paginationInput.entriesPerPage=20";
//     url += urlfilter;

var url = "http://svcs.ebay.com/services/search/FindingService/v1";
    url += "?OPERATION-NAME=findItemsAdvanced";
    url += "&SERVICE-VERSION=1.0.0";
    url += "&SECURITY-APPNAME=LauraSam-Code301-PRD-1e805b329-262cd85d";
    url += "&GLOBAL-ID=EBAY-US";
    url += "&RESPONSE-DATA-FORMAT=JSON";
    url += "&callback=_cb_findItemsAdvanced";
    url += "&itemFilter.name=ListingType&itemFilter.value=Auction";
    url += "&REST-PAYLOAD";
    url += "&paginationInput.entriesPerPage=15";
    url += "&keywords=metallica";
    url += "&categoryId=176985";
    url += "&descriptionSearch=true";
    // url += urlfilter;
    //

// Submit the request
s=document.createElement('script'); // create script element
s.src= url;

// $( "#theClick" ).click(function() {
//   alert( "Handler for .click() called." );
// });

$( "#theClick" ).click(function() {
  document.body.appendChild(s);
});


// Display the request as a clickable link for testing
//document.write("<a href=\"" + url + "\">" + url + "</a>");



</script>

  </body>
</html>
